name: Build and Release

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Validate Gradle Wrapper
      uses: gradle/wrapper-validation-action@v1

    - name: Set up Corretto JDK
      run: |
        wget -O- https://corretto.aws/downloads/latest/amazon-corretto-11-x64-linux-jdk.tar.gz | sudo tar xz -C /opt
        echo "/opt/amazon-corretto-11.0.12.7.1-linux-x64/bin" >> $GITHUB_PATH

    - name: Build with Gradle
      run: ./gradlew build
